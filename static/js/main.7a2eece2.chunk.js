(this.webpackJsonpkreuzwortraetsel=this.webpackJsonpkreuzwortraetsel||[]).push([[0],{32:function(t,e,n){},36:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var o=n(2),r=n.n(o),a=n(25),c=n.n(a),i=(n(32),n(13)),s=n(26),d=(n(36),n(41)),l=n(27),u=n(49),f=n(42),h=n(43),b=n(44),x=n(51),y=n(47),v=n(45),j=n(46),g=n(48),O=n(53),m=n(17),p=n(6),w=n(52),k=n(50),S=n(39),X=n(40);function Y(t){return void 0===t.history}function N(t,e,n,o){return{start:{x:Math.min(t,n),y:Math.min(e,o)},end:{x:Math.max(t,n),y:Math.max(e,o)}}}function z(t){return Object(p.a)(Object(p.a)({},t),{},{history:{initialState:t,actions:[],undoStack:[]}})}function A(t,e){var n=u.a((function(e){return t.start.x===t.end.x?e.start.x===e.end.x&&e.start.x===t.start.x:e.start.y===e.end.y&&e.start.y===t.start.y}),e);return-1===w.a((function(e){return t.start.x===t.end.x?t.start.y>=e.start.y&&t.start.y<=e.end.y:t.start.x>=e.start.x&&t.start.x<=e.end.x}),n)}function D(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"InitializeAction"},n=Y(t)?z(t):t;switch(e.type){case"ChangeAction":return Object(p.a)(Object(p.a)({},n),{},{grid:k.a(e.payload.y,k.a(e.payload.x,e.payload.letter,n.grid[e.payload.y]),n.grid),history:Object(p.a)(Object(p.a)({},n.history),{},{actions:[].concat(Object(m.a)(n.history.actions),[e]),undoStack:[]})});case"WordAction":return A(e.payload.word,n.words)?Object(p.a)(Object(p.a)({},n),{},{words:[].concat(Object(m.a)(n.words),[e.payload.word]),history:Object(p.a)(Object(p.a)({},n.history),{},{actions:[].concat(Object(m.a)(n.history.actions),[e]),undoStack:[]})}):n;case"UndoAction":var o=S.a(D,D(n.history.initialState),X.a(0,-1,n.history.actions));return Object(p.a)(Object(p.a)({},o),{},{history:Object(p.a)(Object(p.a)({},o.history),{},{undoStack:[].concat(Object(m.a)(n.history.undoStack),[n.history.actions[n.history.actions.length-1]])})});case"RedoAction":var r=D(n,n.history.undoStack[n.history.undoStack.length-1]);return console.log("redone",r,n.history),Object(p.a)(Object(p.a)({},r),{},{history:Object(p.a)(Object(p.a)({},r.history),{},{undoStack:X.a(0,-1,n.history.undoStack)})});default:return n}}function C(t,e,n){return{type:"ChangeAction",payload:{letter:t,x:e,y:n}}}var M={grid:d.a((function(){return d.a((function(){return""}),26)}),19),words:[],offsetX:[1,0],offsetY:[2,1]},E=Object(p.a)(Object(p.a)({},M),{},{history:{initialState:M,actions:[],undoStack:[]}}),F=r.a.createContext({state:E,dispatch:function(){}}),I=n(1);function B(t,e,n,o){var r=o?"x":"y",a=o?"y":"x",c=d.a((function(){return d.a(l.a,t-1)}),e),i=u.a((function(t){return o?t.start.y==t.end.y:t.start.x==t.end.x}),n);return f.a((function(t){var n=t.start[r],o=t.start[a];if(!(o>e)){var i=n<0?0:h.a(n,c[o]),s=n<0?t.end[r]:t.end[r]-n;c[o]=b.a(i,s,c[o])}}),i),c}function H(t){var e=r.a.useContext(F),n=e.state,o=e.dispatch,a=function(t){var e=t.grid,n=t.words,o=t.offsetX,r=t.offsetY;return{horizontal:B(e[0].length-o[0],e.length-r[0],n,!0),vertical:B(e.length-r[0],e[0].length-o[0],n,!1)}}(n),c=function(t){var e=t.words,n=x.a(y.a((function(t){return t.start}),e));return v.a([j.a(g.a("y")),j.a(g.a("x"))],n)}(n),s=r.a.useState(),d=Object(i.a)(s,2),l=d[0],f=d[1],b=r.a.useState(),m=Object(i.a)(b,2),p=m[0],w=m[1],k="";if(l&&p){var S=l.x-n.offsetX[0],X=l.y-n.offsetY[0],Y=p.x-n.offsetX[0],z=p.y-n.offsetY[0];k=A(N(Math.min(S,Y),Math.min(X,z),Math.max(S,Y),Math.max(X,z)),n.words)?"border-green-400":"border-red-800"}return Object(I.jsx)(I.Fragment,{children:n.grid.map((function(e,r){return Object(I.jsx)("div",{className:"flex flex-row text-lg",children:e.map((function(e,i){var s,d,b=u.a((function(t){return t.start.x===t.end.x}),n.words),x=u.a((function(t){return t.start.y===t.end.y}),n.words),y=h.a({x:i-n.offsetX[0],y:r-n.offsetY[0]},c),v="border border-black "+(e||r>=n.offsetY[0]&&i>=n.offsetX[0]&&r<n.grid.length-n.offsetY[1]&&i<n.grid[0].length-n.offsetX[1]?"".concat((null===(s=a.horizontal[r-n.offsetY[0]])||void 0===s?void 0:s.includes(i-n.offsetX[0]))?"border-r-4":"pr-1"," ").concat((null===(d=a.vertical[i-n.offsetX[0]])||void 0===d?void 0:d.includes(r-n.offsetY[0]))?"border-b-4":"pb-1"):"border-dashed");return Object(I.jsx)("div",{draggable:!0,className:"relative flex w-12 h-12 items-center justify-center",onDragStart:function(){f({x:i,y:r})},onDragEnter:function(){w({x:i,y:r})},onDragEnd:function(){l&&p&&(o({type:"WordAction",payload:{word:N(l.x-n.offsetX[0],l.y-n.offsetY[0],p.x-n.offsetX[0],p.y-n.offsetY[0])}}),f(void 0),w(void 0))},children:Object(I.jsxs)("div",{className:"".concat(v," w-12 h-12 flex items-center justify-center"),children:[t.highlightVertical&&Object(I.jsx)("div",{className:"absolute border-red-400 w-10 h-12 pointer-events-none ".concat(O.a((function(t){return i===t.start.x+n.offsetX[0]&&r===t.start.y+n.offsetY[0]}),b)?"border-l-4 border-t-4":""," ").concat(O.a((function(t){return i===t.start.x+n.offsetX[0]&&i===t.end.x+n.offsetX[0]&&r>=t.start.y+n.offsetY[0]&&r<=t.end.y+n.offsetY[0]}),b)?"border-l-4 border-r-4":""," ").concat(O.a((function(t){return i===t.end.x+n.offsetX[0]&&r===t.end.y+n.offsetY[0]}),b)?"border-r-4 border-b-4":"")}),t.highlightHorizontal&&Object(I.jsx)("div",{className:"absolute border-blue-400 w-12 h-10 pointer-events-none ".concat(O.a((function(t){return i===t.start.x+n.offsetX[0]&&r===t.start.y+n.offsetY[0]}),x)?"border-l-4 border-t-4":""," ").concat(O.a((function(t){return r===t.start.y+n.offsetY[0]&&r===t.end.y+n.offsetY[0]&&i>=t.start.x+n.offsetX[0]&&i<=t.end.x+n.offsetX[0]}),x)?"border-t-4 border-b-4":""," ").concat(O.a((function(t){return i===t.end.x+n.offsetX[0]&&r===t.end.y+n.offsetY[0]}),x)?"border-r-4 border-b-4":"")}),l&&Object(I.jsx)("div",{className:"absolute ".concat(k," w-9 h-9 pointer-events-none ").concat(i===(null===l||void 0===l?void 0:l.x)&&r===(null===l||void 0===l?void 0:l.y)?"border-l-4 border-t-4":""," ").concat(r===(null===l||void 0===l?void 0:l.y)&&r===(null===p||void 0===p?void 0:p.y)&&i>=(null===l||void 0===l?void 0:l.x)&&i<=(null===p||void 0===p?void 0:p.x)?"border-t-4 border-b-4":i===(null===l||void 0===l?void 0:l.x)&&i===(null===p||void 0===p?void 0:p.x)&&r>=(null===l||void 0===l?void 0:l.y)&&r<=(null===p||void 0===p?void 0:p.y)?"border-l-4 border-r-4":""," ").concat(i===(null===p||void 0===p?void 0:p.x)&&r===(null===p||void 0===p?void 0:p.y)?"border-r-4 border-b-4":"")}),y>=0?Object(I.jsx)("span",{className:"absolute top-0 left-1 text-xs",children:y+1}):null,t.showSolution&&Object(I.jsx)("input",{id:"letter-".concat(i,"-").concat(r),className:"text-center",type:"text",size:1,value:e,pattern:"[A-Z]",onChange:function(t){if(t.target.value){var e=t.target.value.substr(-1).toUpperCase();(function(t){return/[A-Z]/.test(t)})(e)&&o(C(e,i,r))}else o(C("",i,r))},onClick:function(t){return t.target.select()},onFocus:function(t){return t.target.select()},onKeyDown:function(t){var e,n,o,a;switch(t.key){case"ArrowLeft":null===(e=document.getElementById("letter-".concat(i-1,"-").concat(r)))||void 0===e||e.focus(),t.preventDefault();break;case"ArrowRight":null===(n=document.getElementById("letter-".concat(i+1,"-").concat(r)))||void 0===n||n.focus(),t.preventDefault();break;case"ArrowUp":null===(o=document.getElementById("letter-".concat(i,"-").concat(r-1)))||void 0===o||o.focus(),t.preventDefault();break;case"ArrowDown":null===(a=document.getElementById("letter-".concat(i,"-").concat(r+1)))||void 0===a||a.focus(),t.preventDefault()}},tabIndex:0})]})},i)}))},r)}))})}var R=function(){var t=r.a.useReducer(D,E),e=Object(i.a)(t,2),n=e[0],o=e[1],a=r.a.useState(!1),c=Object(i.a)(a,2),d=c[0],l=c[1],u=r.a.useState(!1),f=Object(i.a)(u,2),h=f[0],b=f[1];return Object(I.jsx)("div",{className:"mx-auto sm:w-3/4 md:w-2/4 fixed inset-0 flex items-center justify-center",children:Object(I.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(I.jsx)(F.Provider,{value:{state:n,dispatch:o},children:Object(I.jsxs)(s.GlobalHotKeys,{keyMap:{UNDO:["ctrl+z","command+z"],REDO:["ctrl+y","command+y","ctrl+shift+z","command+shift+z"]},handlers:{UNDO:function(){console.log("undo"),o({type:"UndoAction"})},REDO:function(){console.log("redo"),o({type:"RedoAction"})}},children:[Object(I.jsx)(H,{showSolution:!0,highlightHorizontal:d,highlightVertical:h}),Object(I.jsxs)("div",{className:"flex flex-col flex-align-left",children:[Object(I.jsxs)("div",{className:"flex space-x-2",children:[Object(I.jsx)("input",{className:"form-checkbox",name:"highlightHorizontal",type:"checkbox",value:d?"checked":"",onChange:function(t){return l(!d)}}),Object(I.jsx)("label",{htmlFor:"highlightHorizontal",children:"Horizontale W\xf6rter hervorheben"})]}),Object(I.jsxs)("div",{className:"flex space-x-2",children:[Object(I.jsx)("input",{className:"form-checkbox",type:"checkbox",value:h?"checked":"",onChange:function(t){return b(!h)}}),Object(I.jsx)("label",{htmlFor:"highlightVertical",children:"Vertikale W\xf6rter hervorheben"})]})]})]})})})})},U=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(e){var n=e.getCLS,o=e.getFID,r=e.getFCP,a=e.getLCP,c=e.getTTFB;n(t),o(t),r(t),a(t),c(t)}))};c.a.render(Object(I.jsx)(r.a.StrictMode,{children:Object(I.jsx)(R,{})}),document.getElementById("root")),U()}},[[38,1,2]]]);
//# sourceMappingURL=main.7a2eece2.chunk.js.map