(this.webpackJsonpkreuzwortraetsel=this.webpackJsonpkreuzwortraetsel||[]).push([[0],{37:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var r=n(3),a=n.n(r),o=n(30),c=n.n(o),i=(n(37),n(12)),s=n(25),d=n(26),l=n(31),u=n(5),b=n(46),h={grid:b.a((function(){return b.a((function(){return""}),26)}),19),words:[]},x=Object(u.a)(Object(u.a)({},h),{},{history:{initialState:h,actions:[],undoStack:[]}}),v=a.a.createContext({state:x,dispatch:function(){}}),y=n(2);function j(){var t=a.a.useContext(v).state;return a.a.useEffect((function(){window.localStorage.kreuzwort=JSON.stringify(t)}),[t]),Object(y.jsx)(y.Fragment,{})}var f=n(9),g=n.n(f),O=n(32),m=n(56),p=n(49),w=n(50),A=n(51),S=n(58),k=n(54),N=n(52),z=n(53),E=n(55),D=n(60),C=n(19),R=n(59),I=n(57),M=n(47),F=n(48);function B(t){return void 0===t.history}function H(t,e,n,r){return{start:{x:Math.min(t,n),y:Math.min(e,r)},end:{x:Math.max(t,n),y:Math.max(e,r)}}}function U(t){return Object(u.a)(Object(u.a)({},t),{},{history:{initialState:t,actions:[],undoStack:[]}})}function P(t,e){if(t.start.x!==t.end.x&&t.start.y!==t.end.y)return!1;var n=m.a((function(e){return t.start.x===t.end.x?e.start.x===e.end.x&&e.start.x===t.start.x:e.start.y===e.end.y&&e.start.y===t.start.y}),e);return-1===R.a((function(e){return t.start.x===t.end.x?t.start.y>=e.start.y&&t.start.y<=e.end.y:t.start.x>=e.start.x&&t.start.x<=e.end.x}),n)}function W(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"InitializeAction"},n=B(t)?U(t):t;switch(e.type){case"ChangeAction":return Object(u.a)(Object(u.a)({},n),{},{grid:I.a(e.payload.y,I.a(e.payload.x,e.payload.letter,n.grid[e.payload.y]),n.grid),history:Object(u.a)(Object(u.a)({},n.history),{},{actions:[].concat(Object(C.a)(n.history.actions),[e]),undoStack:[]})});case"WordAction":return P(e.payload.word,n.words)?Object(u.a)(Object(u.a)({},n),{},{words:[].concat(Object(C.a)(n.words),[e.payload.word]),history:Object(u.a)(Object(u.a)({},n.history),{},{actions:[].concat(Object(C.a)(n.history.actions),[e]),undoStack:[]})}):n;case"UndoAction":var r=M.a(W,W(n.history.initialState),F.a(0,-1,n.history.actions));return Object(u.a)(Object(u.a)({},r),{},{history:Object(u.a)(Object(u.a)({},r.history),{},{undoStack:[].concat(Object(C.a)(n.history.undoStack),[n.history.actions[n.history.actions.length-1]])})});case"RedoAction":var a=W(n,n.history.undoStack[n.history.undoStack.length-1]);return Object(u.a)(Object(u.a)({},a),{},{history:Object(u.a)(Object(u.a)({},a.history),{},{undoStack:F.a(0,-1,n.history.undoStack)})});case"ResetAction":return Object(u.a)({},W(e.payload.baseState||n.history.initialState));case"InitializeAction":return n}}function J(t,e,n){return{type:"ChangeAction",payload:{letter:t,x:e,y:n}}}function V(t,e,n,r){var a=r?"x":"y",o=r?"y":"x",c=b.a((function(){return b.a(O.a,t-1)}),e),i=m.a((function(t){return r?t.start.y===t.end.y:t.start.x===t.end.x}),n);return p.a((function(t){var n=t.start[a],r=t.start[o];if(!(r>e)){var i=n<0?0:w.a(n,c[r]),s=n<0?t.end[a]:t.end[a]-n;c[r]=A.a(i,s,c[r])}}),i),c}function Z(t){var e=a.a.useState((function(){var t=new Image(0,0);return t.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",t})),n=Object(i.a)(e,1)[0],r=a.a.useContext(v),o=r.state,c=r.dispatch,s=function(t){var e=t.grid,n=t.words;return{horizontal:V(e[0].length,e.length,n,!0),vertical:V(e.length,e[0].length,n,!1)}}(o),d=function(t){var e=t.words,n=S.a(k.a((function(t){return t.start}),e));return N.a([z.a(E.a("y")),z.a(E.a("x"))],n)}(o),l=a.a.useState(),u=Object(i.a)(l,2),b=u[0],h=u[1],x=a.a.useState(),j=Object(i.a)(x,2),f=j[0],O=j[1],p=b&&f?P(H(Math.min(b.x,f.x),Math.min(b.y,f.y),Math.max(b.x,f.x),Math.max(b.y,f.y)),o.words)?"border-green-400":"border-red-800":"";function A(t,e){var n;null===(n=document.getElementById("letter-".concat(t,"-").concat(e)))||void 0===n||n.focus()}return Object(y.jsx)(y.Fragment,{children:o.grid.map((function(e,r){return Object(y.jsx)("div",{className:"flex flex-row text-lg",onDragOver:function(t){t.stopPropagation(),t.preventDefault()},children:e.map((function(e,a){var i,l,u=m.a((function(t){return t.start.x===t.end.x}),o.words),x=m.a((function(t){return t.start.y===t.end.y}),o.words),v=w.a({x:a,y:r},d),j=e?"border-black border ".concat((null===(i=s.horizontal[r])||void 0===i?void 0:i.includes(a))&&o.grid[r][a+1]?"border-r-4":"pr-1"," ").concat((null===(l=s.vertical[a])||void 0===l?void 0:l.includes(r))&&o.grid[r+1][a]?"border-b-4":"pb-1"):t.showSolution?"border-black border border-dashed":"border-none";return Object(y.jsx)("div",{draggable:!0,className:"relative flex w-10 h-10 items-center justify-center",onDragStart:function(t){t.dataTransfer.setDragImage(n,0,0),h({x:a,y:r})},onDragEnter:function(){O({x:a,y:r})},onDragEnd:function(){b&&f&&(c({type:"WordAction",payload:{word:H(b.x,b.y,f.x,f.y)}}),h(void 0),O(void 0))},children:Object(y.jsxs)("div",{className:"".concat(j," w-10 h-10 flex items-center justify-center"),children:[t.highlightVertical&&Object(y.jsx)("div",{className:"absolute border-red-400 w-8 h-10 pointer-events-none ".concat(D.a((function(t){return a===t.start.x&&r===t.start.y}),u)?"border-l-4 border-t-4":""," ").concat(D.a((function(t){return a===t.start.x&&a===t.end.x&&r>=t.start.y&&r<=t.end.y}),u)?"border-l-4 border-r-4":""," ").concat(D.a((function(t){return a===t.end.x&&r===t.end.y}),u)?"border-r-4 border-b-4":"")}),t.highlightHorizontal&&Object(y.jsx)("div",{className:"absolute border-blue-400 w-10 h-8 pointer-events-none ".concat(D.a((function(t){return a===t.start.x&&r===t.start.y}),x)?"border-l-4 border-t-4":""," ").concat(D.a((function(t){return r===t.start.y&&r===t.end.y&&a>=t.start.x&&a<=t.end.x}),x)?"border-t-4 border-b-4":""," ").concat(D.a((function(t){return a===t.end.x&&r===t.end.y}),x)?"border-r-4 border-b-4":"")}),b&&Object(y.jsx)("div",{className:"absolute ".concat(p," w-7 h-7 pointer-events-none ").concat(a===(null===b||void 0===b?void 0:b.x)&&r===(null===b||void 0===b?void 0:b.y)?"border-l-4 border-t-4":""," ").concat(r===(null===b||void 0===b?void 0:b.y)&&r===(null===f||void 0===f?void 0:f.y)&&a>=(null===b||void 0===b?void 0:b.x)&&a<=(null===f||void 0===f?void 0:f.x)?"border-t-4 border-b-4":a===(null===b||void 0===b?void 0:b.x)&&a===(null===f||void 0===f?void 0:f.x)&&r>=(null===b||void 0===b?void 0:b.y)&&r<=(null===f||void 0===f?void 0:f.y)?"border-l-4 border-r-4":""," ").concat(a===(null===f||void 0===f?void 0:f.x)&&r===(null===f||void 0===f?void 0:f.y)?"border-r-4 border-b-4":"")}),v>=0?Object(y.jsx)("span",{className:"absolute top-0 left-1 text-xs",children:v+1}):null,t.showSolution&&Object(y.jsx)("input",{id:"letter-".concat(a,"-").concat(r),className:"text-center w-10 h-10 bg-transparent border-none outline-none",type:"text",size:1,value:e,pattern:"[A-Z]",onChange:function(t){if(t.target.value){var e=t.target.value.substr(-1).toUpperCase();(function(t){return/[A-Z]/.test(t)})(e)&&c(J(e,a,r))}else c(J("",a,r))},onClick:function(t){return t.target.select()},onKeyDown:function(t){g()("left")(t.nativeEvent)?(A(a-1,r),t.preventDefault()):g()("right")(t.nativeEvent)?(A(a+1,r),t.preventDefault()):g()("up")(t.nativeEvent)||g()("shift+enter")(t.nativeEvent)?(A(a,r-1),t.preventDefault()):g()("down")(t.nativeEvent)||g()("enter")(t.nativeEvent)?(A(a,r+1),t.preventDefault()):g()("mod+z")(t.nativeEvent)?c({type:"UndoAction"}):(g()("mod+shift+z")(t.nativeEvent)||g()("mod+y")(t.nativeEvent))&&c({type:"RedoAction"})},tabIndex:0})]})},a)}))},r)}))})}var L=function(){var t=a.a.useReducer(W,function(){if(window.localStorage.kreuzwort)return JSON.parse(window.localStorage.kreuzwort)}()||x),e=Object(i.a)(t,2),n=e[0],r=e[1],o=a.a.useState(!1),c=Object(i.a)(o,2),u=c[0],b=c[1],h=a.a.useState(!1),f=Object(i.a)(h,2),g=f[0],O=f[1];return Object(y.jsx)("div",{className:"mx-auto sm:w-3/4 md:w-2/4 mt-10 inset-0 flex items-center justify-center",children:Object(y.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(y.jsx)(v.Provider,{value:{state:n,dispatch:r},children:Object(y.jsxs)(l.GlobalHotKeys,{keyMap:{UNDO:["ctrl+z","command+z"],REDO:["ctrl+y","command+y","ctrl+shift+z","command+shift+z"]},handlers:{UNDO:function(){return r({type:"UndoAction"})},REDO:function(){return r({type:"RedoAction"})}},children:[Object(y.jsx)(j,{}),Object(y.jsxs)("div",{className:"right flex flex-row space-x-4 mb-4",children:[Object(y.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:function(){return r({type:"UndoAction"})},title:"R\xfcckg\xe4ngig (Strg + Z)",children:Object(y.jsx)(s.a,{icon:d.c})}),Object(y.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:function(){return r({type:"RedoAction"})},title:"Wiederholen (Strg + Y)",children:Object(y.jsx)(s.a,{icon:d.a})}),Object(y.jsxs)("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",onClick:function(){window.confirm("Alles l\xf6schen?")&&r({type:"ResetAction",payload:{baseState:x}})},children:[Object(y.jsx)(s.a,{icon:d.b,className:"mr-2"}),"Zur\xfccksetzen"]})]}),Object(y.jsxs)("div",{className:"flex flex-row flex-align-left mb-4",children:[Object(y.jsxs)("div",{className:"flex space-x-2 mr-6",children:[Object(y.jsx)("input",{className:"form-checkbox",name:"highlightHorizontal",type:"checkbox",value:u?"checked":"",onChange:function(t){return b(!u)}}),Object(y.jsx)("label",{htmlFor:"highlightHorizontal",children:"Horizontale W\xf6rter hervorheben"})]}),Object(y.jsxs)("div",{className:"flex space-x-2",children:[Object(y.jsx)("input",{className:"form-checkbox",type:"checkbox",value:g?"checked":"",onChange:function(t){return O(!g)}}),Object(y.jsx)("label",{htmlFor:"highlightVertical",children:"Vertikale W\xf6rter hervorheben"})]})]}),Object(y.jsx)(Z,{showSolution:!0,highlightHorizontal:u,highlightVertical:g}),Object(y.jsx)("div",{className:"m-4"}),Object(y.jsx)(Z,{})]})})})})},T=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,61)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,o=e.getLCP,c=e.getTTFB;n(t),r(t),a(t),o(t),c(t)}))};c.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(L,{})}),document.getElementById("root")),T()}},[[45,1,2]]]);
//# sourceMappingURL=main.9acac07c.chunk.js.map