(this.webpackJsonpkreuzwortraetsel=this.webpackJsonpkreuzwortraetsel||[]).push([[0],{37:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var r=n(3),o=n.n(r),a=n(30),c=n.n(a),i=(n(37),n(12)),s=n(25),d=n(26),l=n(31),u=n(5),f=n(46),b={grid:f.a((function(){return f.a((function(){return""}),26)}),19),words:[],offsetX:[1,0],offsetY:[2,1]},h=Object(u.a)(Object(u.a)({},b),{},{history:{initialState:b,actions:[],undoStack:[]}}),x=o.a.createContext({state:h,dispatch:function(){}}),v=n(2);function y(){var t=o.a.useContext(x).state;return o.a.useEffect((function(){window.localStorage.kreuzwort=JSON.stringify(t)}),[t]),Object(v.jsx)(v.Fragment,{})}var j=n(9),g=n.n(j),O=n(32),m=n(56),p=n(49),A=n(50),w=n(51),k=n(58),S=n(54),N=n(52),z=n(53),Y=n(55),X=n(60),E=n(19),D=n(59),C=n(57),R=n(47),I=n(48);function M(t){return void 0===t.history}function F(t,e,n,r){return{start:{x:Math.min(t,n),y:Math.min(e,r)},end:{x:Math.max(t,n),y:Math.max(e,r)}}}function B(t){return Object(u.a)(Object(u.a)({},t),{},{history:{initialState:t,actions:[],undoStack:[]}})}function H(t,e){if(t.start.x!==t.end.x&&t.start.y!==t.end.y)return!1;var n=m.a((function(e){return t.start.x===t.end.x?e.start.x===e.end.x&&e.start.x===t.start.x:e.start.y===e.end.y&&e.start.y===t.start.y}),e);return-1===D.a((function(e){return t.start.x===t.end.x?t.start.y>=e.start.y&&t.start.y<=e.end.y:t.start.x>=e.start.x&&t.start.x<=e.end.x}),n)}function U(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"InitializeAction"},n=M(t)?B(t):t;switch(e.type){case"ChangeAction":return Object(u.a)(Object(u.a)({},n),{},{grid:C.a(e.payload.y,C.a(e.payload.x,e.payload.letter,n.grid[e.payload.y]),n.grid),history:Object(u.a)(Object(u.a)({},n.history),{},{actions:[].concat(Object(E.a)(n.history.actions),[e]),undoStack:[]})});case"WordAction":return H(e.payload.word,n.words)?Object(u.a)(Object(u.a)({},n),{},{words:[].concat(Object(E.a)(n.words),[e.payload.word]),history:Object(u.a)(Object(u.a)({},n.history),{},{actions:[].concat(Object(E.a)(n.history.actions),[e]),undoStack:[]})}):n;case"UndoAction":var r=R.a(U,U(n.history.initialState),I.a(0,-1,n.history.actions));return Object(u.a)(Object(u.a)({},r),{},{history:Object(u.a)(Object(u.a)({},r.history),{},{undoStack:[].concat(Object(E.a)(n.history.undoStack),[n.history.actions[n.history.actions.length-1]])})});case"RedoAction":var o=U(n,n.history.undoStack[n.history.undoStack.length-1]);return Object(u.a)(Object(u.a)({},o),{},{history:Object(u.a)(Object(u.a)({},o.history),{},{undoStack:I.a(0,-1,n.history.undoStack)})});case"ResetAction":return Object(u.a)({},U(n.history.initialState));case"InitializeAction":return n}}function P(t,e,n){return{type:"ChangeAction",payload:{letter:t,x:e,y:n}}}function W(t,e,n,r){var o=r?"x":"y",a=r?"y":"x",c=f.a((function(){return f.a(O.a,t-1)}),e),i=m.a((function(t){return r?t.start.y==t.end.y:t.start.x==t.end.x}),n);return p.a((function(t){var n=t.start[o],r=t.start[a];if(!(r>e)){var i=n<0?0:A.a(n,c[r]),s=n<0?t.end[o]:t.end[o]-n;c[r]=w.a(i,s,c[r])}}),i),c}function J(t){var e=o.a.useState((function(){var t=new Image(0,0);return t.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",t})),n=Object(i.a)(e,1)[0],r=o.a.useContext(x),a=r.state,c=r.dispatch,s=function(t){var e=t.grid,n=t.words,r=t.offsetX,o=t.offsetY;return{horizontal:W(e[0].length-r[0],e.length-o[0],n,!0),vertical:W(e.length-o[0],e[0].length-r[0],n,!1)}}(a),d=function(t){var e=t.words,n=k.a(S.a((function(t){return t.start}),e));return N.a([z.a(Y.a("y")),z.a(Y.a("x"))],n)}(a),l=o.a.useState(),u=Object(i.a)(l,2),f=u[0],b=u[1],h=o.a.useState(),y=Object(i.a)(h,2),j=y[0],O=y[1],p="";if(f&&j){var w=f.x-a.offsetX[0],E=f.y-a.offsetY[0],D=j.x-a.offsetX[0],C=j.y-a.offsetY[0];p=H(F(Math.min(w,D),Math.min(E,C),Math.max(w,D),Math.max(E,C)),a.words)?"border-green-400":"border-red-800"}function R(t,e){var n;null===(n=document.getElementById("letter-".concat(t,"-").concat(e)))||void 0===n||n.focus()}return Object(v.jsx)(v.Fragment,{children:a.grid.map((function(e,r){return Object(v.jsx)("div",{className:"flex flex-row text-lg",onDragOver:function(t){t.stopPropagation(),t.preventDefault()},children:e.map((function(e,o){var i,l,u=m.a((function(t){return t.start.x===t.end.x}),a.words),h=m.a((function(t){return t.start.y===t.end.y}),a.words),x=A.a({x:o-a.offsetX[0],y:r-a.offsetY[0]},d),y="border border-black "+(e||r>=a.offsetY[0]&&o>=a.offsetX[0]&&r<a.grid.length-a.offsetY[1]&&o<a.grid[0].length-a.offsetX[1]?"".concat((null===(i=s.horizontal[r-a.offsetY[0]])||void 0===i?void 0:i.includes(o-a.offsetX[0]))?"border-r-4":"pr-1"," ").concat((null===(l=s.vertical[o-a.offsetX[0]])||void 0===l?void 0:l.includes(r-a.offsetY[0]))?"border-b-4":"pb-1"):"border-dashed");return Object(v.jsx)("div",{draggable:!0,className:"relative flex w-10 h-10 items-center justify-center",onDragStart:function(t){t.dataTransfer.setDragImage(n,0,0),b({x:o,y:r})},onDragEnter:function(){O({x:o,y:r})},onDragEnd:function(){f&&j&&(c({type:"WordAction",payload:{word:F(f.x-a.offsetX[0],f.y-a.offsetY[0],j.x-a.offsetX[0],j.y-a.offsetY[0])}}),b(void 0),O(void 0))},children:Object(v.jsxs)("div",{className:"".concat(y," w-10 h-10 flex items-center justify-center"),children:[t.highlightVertical&&Object(v.jsx)("div",{className:"absolute border-red-400 w-8 h-10 pointer-events-none ".concat(X.a((function(t){return o===t.start.x+a.offsetX[0]&&r===t.start.y+a.offsetY[0]}),u)?"border-l-4 border-t-4":""," ").concat(X.a((function(t){return o===t.start.x+a.offsetX[0]&&o===t.end.x+a.offsetX[0]&&r>=t.start.y+a.offsetY[0]&&r<=t.end.y+a.offsetY[0]}),u)?"border-l-4 border-r-4":""," ").concat(X.a((function(t){return o===t.end.x+a.offsetX[0]&&r===t.end.y+a.offsetY[0]}),u)?"border-r-4 border-b-4":"")}),t.highlightHorizontal&&Object(v.jsx)("div",{className:"absolute border-blue-400 w-10 h-8 pointer-events-none ".concat(X.a((function(t){return o===t.start.x+a.offsetX[0]&&r===t.start.y+a.offsetY[0]}),h)?"border-l-4 border-t-4":""," ").concat(X.a((function(t){return r===t.start.y+a.offsetY[0]&&r===t.end.y+a.offsetY[0]&&o>=t.start.x+a.offsetX[0]&&o<=t.end.x+a.offsetX[0]}),h)?"border-t-4 border-b-4":""," ").concat(X.a((function(t){return o===t.end.x+a.offsetX[0]&&r===t.end.y+a.offsetY[0]}),h)?"border-r-4 border-b-4":"")}),f&&Object(v.jsx)("div",{className:"absolute ".concat(p," w-7 h-7 pointer-events-none ").concat(o===(null===f||void 0===f?void 0:f.x)&&r===(null===f||void 0===f?void 0:f.y)?"border-l-4 border-t-4":""," ").concat(r===(null===f||void 0===f?void 0:f.y)&&r===(null===j||void 0===j?void 0:j.y)&&o>=(null===f||void 0===f?void 0:f.x)&&o<=(null===j||void 0===j?void 0:j.x)?"border-t-4 border-b-4":o===(null===f||void 0===f?void 0:f.x)&&o===(null===j||void 0===j?void 0:j.x)&&r>=(null===f||void 0===f?void 0:f.y)&&r<=(null===j||void 0===j?void 0:j.y)?"border-l-4 border-r-4":""," ").concat(o===(null===j||void 0===j?void 0:j.x)&&r===(null===j||void 0===j?void 0:j.y)?"border-r-4 border-b-4":"")}),x>=0?Object(v.jsx)("span",{className:"absolute top-0 left-1 text-xs",children:x+1}):null,t.showSolution&&Object(v.jsx)("input",{id:"letter-".concat(o,"-").concat(r),className:"text-center w-10 h-10 bg-transparent border-none outline-none",type:"text",size:1,value:e,pattern:"[A-Z]",onChange:function(t){if(t.target.value){var e=t.target.value.substr(-1).toUpperCase();(function(t){return/[A-Z]/.test(t)})(e)&&c(P(e,o,r))}else c(P("",o,r))},onClick:function(t){return t.target.select()},onKeyDown:function(t){g()("left")(t.nativeEvent)?(R(o-1,r),t.preventDefault()):g()("right")(t.nativeEvent)?(R(o+1,r),t.preventDefault()):g()("up")(t.nativeEvent)||g()("shift+enter")(t.nativeEvent)?(R(o,r-1),t.preventDefault()):g()("down")(t.nativeEvent)||g()("enter")(t.nativeEvent)?(R(o,r+1),t.preventDefault()):g()("mod+z")(t.nativeEvent)?c({type:"UndoAction"}):(g()("mod+shift+z")(t.nativeEvent)||g()("mod+y")(t.nativeEvent))&&c({type:"RedoAction"})},tabIndex:0})]})},o)}))},r)}))})}var V=function(){var t=o.a.useReducer(U,function(){if(window.localStorage.kreuzwort)return JSON.parse(window.localStorage.kreuzwort)}()||h),e=Object(i.a)(t,2),n=e[0],r=e[1],a=o.a.useState(!1),c=Object(i.a)(a,2),u=c[0],f=c[1],b=o.a.useState(!1),j=Object(i.a)(b,2),g=j[0],O=j[1];return Object(v.jsx)("div",{className:"mx-auto sm:w-3/4 md:w-2/4 mt-10 inset-0 flex items-center justify-center",children:Object(v.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(v.jsx)(x.Provider,{value:{state:n,dispatch:r},children:Object(v.jsxs)(l.GlobalHotKeys,{keyMap:{UNDO:["ctrl+z","command+z"],REDO:["ctrl+y","command+y","ctrl+shift+z","command+shift+z"]},handlers:{UNDO:function(){return r({type:"UndoAction"})},REDO:function(){return r({type:"RedoAction"})}},children:[Object(v.jsx)(y,{}),Object(v.jsxs)("div",{className:"right flex flex-row space-x-4 mb-4",children:[Object(v.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:function(){return r({type:"UndoAction"})},title:"R\xfcckg\xe4ngig (Strg + Z)",children:Object(v.jsx)(s.a,{icon:d.c})}),Object(v.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:function(){return r({type:"RedoAction"})},title:"Wiederholen (Strg + Y)",children:Object(v.jsx)(s.a,{icon:d.a})}),Object(v.jsxs)("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",onClick:function(){window.confirm("Alles l\xf6schen?")&&r({type:"ResetAction"})},children:[Object(v.jsx)(s.a,{icon:d.b,className:"mr-2"}),"Zur\xfccksetzen"]})]}),Object(v.jsxs)("div",{className:"flex flex-row flex-align-left mb-4",children:[Object(v.jsxs)("div",{className:"flex space-x-2 mr-6",children:[Object(v.jsx)("input",{className:"form-checkbox",name:"highlightHorizontal",type:"checkbox",value:u?"checked":"",onChange:function(t){return f(!u)}}),Object(v.jsx)("label",{htmlFor:"highlightHorizontal",children:"Horizontale W\xf6rter hervorheben"})]}),Object(v.jsxs)("div",{className:"flex space-x-2",children:[Object(v.jsx)("input",{className:"form-checkbox",type:"checkbox",value:g?"checked":"",onChange:function(t){return O(!g)}}),Object(v.jsx)("label",{htmlFor:"highlightVertical",children:"Vertikale W\xf6rter hervorheben"})]})]}),Object(v.jsx)(J,{showSolution:!0,highlightHorizontal:u,highlightVertical:g})]})})})})},Z=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,61)).then((function(e){var n=e.getCLS,r=e.getFID,o=e.getFCP,a=e.getLCP,c=e.getTTFB;n(t),r(t),o(t),a(t),c(t)}))};c.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(V,{})}),document.getElementById("root")),Z()}},[[45,1,2]]]);
//# sourceMappingURL=main.d5572381.chunk.js.map